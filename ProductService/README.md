Something about OData
---

1. EDM абстактная модель данных. Служит для создания сервиса документов метаданных.
2. ODataConvertionModelBuilder класс ( внутри web.config) создает EDM конвенцию наименования по умолчанию.И этот подход требует минимального кода.
Если вам нужно большего контроля над EDM, вы можете использоватьь ODataModelBuilder класс для создания EDM при поомощи добавления свойств, ключей и явных навигационных свойств.
3. Route говорит WebAPI как направлять HTTP запросы в конечные точки.
4. Для создания роутинга OData v4 вызовите расширренный метод MapODataServiceRoute

Something about ODataController
---

1. Создаются отделььные контроллеры для отдельной сущности встроенной в наш OData service.
2. Контроллер  использует ProductsContext для доступа к базе используя EF. Нужно заметить что контроллер перегружает метод Dispose для освобождения ProductsContext.
3. EnableQuery аттрибут который позволяет клиентам модифицировать запрос используя такие опции как $filter, $sort, $page. 
4. Для добавления продуктов в базу пишем следующий метод public async Task<IHttpActionResult> Post(Product product). И для удобства реализовываем все асинхронно. 
5. Для обновления есть два способа:
  - PATCH - выполняет частичное обновление. Клиент указывает свойства только для обновления.
  - PUT - заменяет полностью 
Неудобство PUT в том что клиент должен передавать всю сущность для изменения даже те свойства которые не хочет изменять. Поэтому в спецификации OData говорится что PATCH - предпочтительнее.
